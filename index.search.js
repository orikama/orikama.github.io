var relearn_search_index=[{content:`MSVC Open VS 2022 17.5.0 Preview 2 C++20 modules bug: values in a static array in an inline function are always initialized to zero VS 2022 17.5.0 Preview 2 C++20 modules bug: [[maybe_unused]] doesn’t work VS 2022 17.5.0 Preview 2 C++20 modules bug: static variable in a function doesn’t updates C++20 modules: returning anonymous type from a method breaks object layout
What is this syntax? Seems like only MSVC compiles it struct Struct { struct { float x; float y; } GetXY() { return { _x, _y }; }; float _x; float _y; }; Fixed \u003cfstream\u003e: Importing as a header unit leads to error C2079: undefined class ‘std::basic_ofstream\u003cchar,std::char_traits\u003e’ \u003catomic\u003e: Building a header unit with /ZI emits warning C5260 Unity Questions without an answer Missing RayTracing API features, RayTracingAccelerationStructure bugs? It actually was partially answered, sadly I was just not worty enough Fixed Fog and volumetric lights in Path Tracing Editor hangs when importing certain .fbx files [HDRP] Camera view is rendered on objects with a Distortion Blur material when Dynamic Resolution is enabled `,description:"",tags:null,title:"Bugs",uri:"/notes/bugs/index.html"},{content:`CMake https://github.com/friendlyanon/cmake-init CMAKE__BYTE_ORDER Sharpmake Ubisoft girhub repo Visual Studio (not a build system but who cares) SDK
VCProjectEngine VCLinkerTool Vcxproj
Example Project File `,description:"",tags:null,title:"Build Systems",uri:"/notes/buildsystems/index.html"},{content:"Uncotegorized Improved asserts C++ Assertion Library, Reddit post C style variadic Big/Little endian conversions A quick primer on type traits in modern C++ RTTI Compile time typeid without RTTI with GCC Static Registration Static Registration Macros C++ patterns: static registration Modules P1779R3: ABI isolation for member functions ABI inline ",description:"",tags:null,title:"C++",uri:"/notes/cpp/index.html"},{content:"",description:"",tags:null,title:"Categories",uri:"/categories/index.html"},{content:`Modules Standard C++ Modules do not confuse it with Clang extension(?) Clang modules Compilation Header Unit clang++ -std=c++20 -xc++-system-header --precompile concepts -o concepts.pcm Module Interface Partition Unit clang -std=c++20 -xc++-module -fmodule-file=\u003cMODULE_FILE\u003e Module-InterfacePartition.ixx --precompile -o Module-InterfacePartition.pcm Primary Module Interface Unit clang++ -std=c++20 -xc++-module -fprebuilt-module-path=. Module.ixx --precompile -o Module.pcm # or clang++ -std=c++20 -xc++-module -fmodule-file=Module-InterfacePartition.pcm Module.ixx --precompile -o Module.pcm Module Implementation Unit clang++ -std=c++20 -fmodule-file=M.pcm Module.cpp -c -o Module.o \u003cMODULE_FILE\u003e path to this module dependency (eg. concepts.pcm or OtherModule.pcm) the only(?) way to specify header unit dependencies can be used for usual modules too, otherwise -fprebuilt-module-path=\u003cDIR\u003e can be used multiple times -xc++-module if the file extension is not .cppm probably in the future other extensions will be added as well Compilation Database JSON Compilation Database Format Specification I heckin love that it’s called “Compilation Database” but the file name should be “compile_commands.json”
LibTooling LibTooling Tutorial for building tools using LibTooling and LibASTMatchers Seems like analyzing modules AST is a little bit hard at the moment?
Looks like you need to precompile every import to get correct AST in some cases, not that simple as with headers?
And since Clang support for modules is lagging behind a bit(to put it lightly) you can get a lot of errors while precompiling modules.
At least I’ve got a lot of errors while trying to compile module partition that was importing \u003ctype_traits\u003e and \u003cconcepts\u003e as a header units.
And here I tought that may be using Clang to build my project that uses modules will be a bit early, but surely it’s capable enough for AST analysis.
Build LLVM/Clang from sources Getting Started with the LLVM System Building LLVM with CMake Probably not the best possible configuration, but works for my needs
CMakePresets.json { "version": 6, "cmakeMinimumRequired": { "major": 3, "minor": 25, "patch": 0 }, "configurePresets": [ { "name": "binary-dir", "binaryDir": "\${sourceParentDir}/build/\${presetName}", "hidden": true }, { "name": "configuration-debug", "cacheVariables": { "CMAKE_BUILD_TYPE": "Debug" }, "hidden": true }, { "name": "configuration-release", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release" }, "hidden": true }, { "name": "configuration-multi", "cacheVariables": { "CMAKE_CONFIGURATION_TYPES": "Debug;Release" }, "hidden": true }, { "name": "toolset-clang-cl", "toolset":{ "strategy": "set", "value": "ClangCL" }, "hidden": true }, { "name": "compiler-clang", "cacheVariables": { "CMAKE_CXX_COMPILER": "clang" }, "hidden": true }, { "name": "compiler-msvc", "cacheVariables": { "CMAKE_CXX_COMPILER": "cl" }, "hidden": true }, { "name": "generator-ninja", "generator": "Ninja", "architecture": { "strategy": "external", "value": "x64" }, "hidden": true }, { "name": "generator-ninja-multi", "generator": "Ninja Multi-Config", "architecture": { "strategy": "external", "value": "x64" }, "hidden": true }, { "name": "generator-vs", "generator": "Visual Studio 17 2022", "architecture": { "strategy": "set", "value": "x64" }, "hidden": true }, { "name": "settings-vs-clang", "vendor": { "microsoft.com/VisualStudioSettings/CMake/1.0": { "intelliSenseMode": "windows-clang-x64" } }, "hidden": true }, { "name": "settings-vs-msvc", "vendor": { "microsoft.com/VisualStudioSettings/CMake/1.0": { "enableMicrosoftCodeAnalysis": true } }, "hidden": true }, { "name": "vars-llvm-common", "cacheVariables": { "CMAKE_INSTALL_PREFIX": "C:/Program Files/LLVM/17.0.0", "CMAKE_SKIP_INSTALL_ALL_DEPENDENCY": true, "BUILD_SHARED_LIBS": "OFF", "LLVM_BUILD_32_BITS": "OFF", "LLVM_BUILD_BENCHMARKS": "OFF", "LLVM_BUILD_DOCS": "OFF", "LLVM_BUILD_EXAMPLES": "OFF", "LLVM_BUILD_INSTRUMENTED_COVERAGE": "OFF", "LLVM_BUILD_TESTS": "OFF", "LLVM_ENABLE_BINDINGS": "OFF", "LLVM_ENABLE_DOXYGEN": "OFF", "LLVM_ENABLE_PROJECTS": "clang", "LLVM_ENABLE_RTTI": "OFF", "LLVM_ENABLE_SPHINX": "OFF", "LLVM_INCLUDE_BENCHMARKS": "OFF", "LLVM_INCLUDE_EXAMPLES": "OFF", "LLVM_INCLUDE_TESTS": "OFF", "LLVM_OPTIMIZED_TABLEGEN": "ON", "LLVM_TARGETS_TO_BUILD": "X86" }, "hidden": true }, { "name": "vars-llvm-msvc", "cacheVariables": { "LLVM_ENABLE_DIA_SDK": "ON" }, "hidden": true }, { "name": "ninja-clang-debug", "inherits": [ "binary-dir", "configuration-debug", "compiler-clang", "generator-ninja", "settings-vs-clang" ] }, { "name": "ninja-clang-release", "inherits": [ "binary-dir", "configuration-release", "compiler-clang", "generator-ninja", "settings-vs-clang" ] }, { "name": "ninja-msvc", "inherits": [ "binary-dir", "configuration-multi", "compiler-msvc", "generator-ninja-multi", "settings-vs-msvc", "cmake-exe", "vars-llvm-common", "vars-llvm-msvc" ] }, { "name": "ninja-msvc-debug", "inherits": [ "binary-dir", "configuration-debug", "compiler-msvc", "generator-ninja", "settings-vs-msvc", "cmake-exe", "vars-llvm-common", "vars-llvm-msvc" ] }, { "name": "ninja-msvc-release", "inherits": [ "binary-dir", "configuration-release", "compiler-msvc", "generator-ninja", "settings-vs-msvc", "cmake-exe", "vars-llvm-common", "vars-llvm-msvc" ] }, { "name": "visual-studio-clang", "inherits": [ "binary-dir", "configuration-multi", "toolset-clang-cl", "generator-vs", "settings-vs-clang", "vars-llvm-common", "vars-llvm-msvc" ] }, { "name": "visual-studio-msvc", "inherits": [ "binary-dir", "configuration-multi", "compiler-msvc", "generator-vs", "settings-vs-msvc", "vars-llvm-common", "vars-llvm-msvc" ] } ] } `,description:"",tags:null,title:"Clang",uri:"/notes/cpp/clang/index.html"},{content:"GDC 2022 Horizon Forbidden West Guerrilla at GDC 2022 Adventures with Deferred Texturing in ‘Horizon Forbidden West’ | local copy Deathloop A guided tour of Blackreef: rendering technologies in Deathloop Far Cry 6 Performant Reflective Beauty - Hybrid Raytracing with Far Cry 6 Athia: the technologies of Forspoken Breaking down the world of Athia: the technologies of Forspoken AMD GPUOpen Slides/videos for presentations FidelityFX Super Resolution 2.0 Raytracing Performance Revealed - How to optimize your game with the RDTS AMD Ryzen™ Processor Software Optimization ",description:"",tags:null,title:"Conferences",uri:"/notes/conferences/index.html"},{content:`DirectX 11 Buffers management Constant Buffers without Constant Pain (NVIDIA) Copying and Accessing Resource Data (Direct3D 10) DirectX 12 Implementations
Mini engine, DX12, Path Tracing https://github.com/KaiH0717/KHRay Strong DX12 abstraction? Bindless, Render Graph, Path Tracing DX12 renderer with simple design Has DX11 version, may be I should start with it ??
Swap chain | DXGI_SWAP_CHAIN_DESC DXGI_SWAP_EFFECT Only use DXGI_SWAP_EFFECT_FLIP_SEQUENTIAL or DXGI_SWAP_EFFECT_FLIP_DISCARD DXGI_SWAP_EFFECT For best performance, use DXGI flip model Important part -\u003e What do I have to do to use the flip model? `,description:"",tags:null,title:"DirectX",uri:"/notes/graphics/directx/index.html"},{content:` EnTT developer(Michele Caini) blog
Flecs developer(Sander Mertens) articles
Building an ECS #1: Types, Hierarchies and Prefabs (Feb 26, 2020) Building an ECS #2: Archetypes and Vectorization (Mar 14, 2020) Why Vanilla ECS Is Not Enough (Jul 9, 2020) Making the most of ECS identifiers (Jul 22, 2020) Why Storing State Machines in ECS is a bad idea. (Aug 11, 2020) ECS: From Tool to Paradigm (Feb 19, 2021) Building Games in ECS with Entity Relationships (Apr 8, 2022) Building an ECS #1: Where are my Entities and Components (Aug 7, 2022) Syncing a data-oriented ECS with a stateful external system
ourmachinery.com site is down, but this is not a problem ;) parallelizing ECS Implementations
Hierarchical Legion Transform `,description:"",tags:null,title:"ECS",uri:"/notes/ecs/index.html"},{content:"",description:"",tags:null,title:"Formats",uri:"/notes/formats/index.html"},{content:`Ray Tracing BVH How to build a BVH – Part 1: Basics Denoiser Intel Open Image Denoise NVIDIA OptiX Ray Tracing Engine NVIDIA REAL-TIME DENOISERS (NRD) Transparency Terms depth peeling stencil routed k-buffer Order-independent transparency RenderGraph Render Graph Optimization Scribbles Scheduling RenderPasses so that they can overlap Render graphs and Vulkan — a deep dive https://github.com/Themaister/Granite Organizing GPU Work with Directed Acyclic Graphs https://www.reddit.com/r/GraphicsProgramming/comments/hov5wl/organizing_gpu_work_with_directed_acyclic_graphs/ PathFinder, DX12 renderer High-Level Rendering Using Render Graphs API The smooth resize test
His blog has more articles about window/swapchain Swapchains and frame pacing StackOverflow long read DXGI overview Texture View performance
Texture views cause unnecessary memory bandwidth use What are ’typeless’ DXGI texture formats in DirectX? Web GPU Discussions Investigation: Viewport and Scissor Test API Differences https://github.com/gpuweb/gpuweb/issues/416
Use the same as they are? “Solution 1: Y up in NDC, Y down in other coordinate systems” spirv shaders can be compiled with Y fliped? https://veldrid.dev/articles/backend-differences.html Face winding
GL: CCW DX11: CW Stuff Resizable BAR, uploading without staging buffers
https://www.reddit.com/r/vulkan/comments/kkmu5z/resizable_bar_staging_buffers/ https://twitter.com/sebaaltonen/status/1327159607068864512?lang=en Texture uloading without staging buffer? https://twitter.com/SebAaltonen/status/1327171850485559296 Rasterization in slow motion
https://github.com/michal-z/zig-gamedev/tree/main/samples/rasterization https://twitter.com/MichalZiulek/status/1486375154536128523 MSAA A Quick Overview of MSAA Anti-aliased Alpha Test: The Esoteric Alpha To Coverage `,description:"",tags:null,title:"Graphics",uri:"/notes/graphics/index.html"},{content:" C++23 reflexpr on a budget (string -\u003e type) reddit post godbolt, reddit comment, claims that it is a better version tweet godbolt ",description:"",tags:null,title:"Hacks",uri:"/notes/cpp/hacks/index.html"},{content:`Home
`,description:"",tags:null,title:"Home",uri:"/index.html"},{content:"TGA TGA V2 spec TGA File Format Summary TGA, Wiki Creating TGA Image files https://docs.fileformat.com/image/tga/ https://www.loc.gov/preservation/digital/formats/fdd/fdd000180.shtml implementation example Implementations godot/modules/tga/image_loader_tga.cpp stb_image.h https://gist.github.com/Loggie/3253731 https://github.com/aseprite/tga ",description:"",tags:null,title:"Images",uri:"/notes/formats/images/index.html"},{content:` Cources
Math for Game Developers Exponentially Better Rotations
Rotation Matrices, Euler Angles, Quaternions, Axis/Angle Rotations, The Exponential and Logarithmic Maps Hacking Quaternions On Vector Math Libraries
`,description:"",tags:null,title:"Math",uri:"/notes/math/index.html"},{content:"OBJ Specification Object Files (.obj) Wavefront .obj file, Wiki ??? Implementations fast_obj rapidobj tinyobjloader assimp Blender OBJ importer improvments by Aras Pranckevicius Tweet New C++ based wavefront OBJ importer OBJ: further optimize, cleanup and harden the new C++ importer MTL MTL material format (Lightwave, OBJ) Excerpt from FILE FORMATS, Version 4.2 October 1995 Alias/WaveFront Material (.mtl) File Format Unsupported keywords in materials (Sponza has ‘map_disp’ for example) https://stackoverflow.com/questions/26453143/simple-curiosity-with-wave-front-resource-material-format ",description:"",tags:null,title:"Models",uri:"/notes/formats/models/index.html"},{content:"Diagnostics ADSP Episode CX: Compiler Diagnostics The Future of C++ Compiler Diagnostics in MSVC and Visual Studio Flags /vmm, /vms, /vmv docs apparently it’s possible to control the size of the pointer to member function? learned about it in “Game Engine Gems 3, Chapter 13: Generic, Lightweight, and Fast Delegates in C++” Hidden MSVC hidden flags /d1ifcInlineFunctions or /dxifcInlineFunctions reddit comments from microsoft devs https://developercommunity.visualstudio.com/t/Functions-imported-from-modules-are-neve/1593838 this flag enabled by default in 17.5 Preview 2 is the reason for my bug report /d2cgsummary and /d1reportTime Slow to Compile Table Initializers Best unknown MSVC flag: d2cgsummary Another cool MSVC flag: /d1reportTime /d1reportAllClassLayout /d1reportSingleClassLayout\u003cname\u003e /d1reportAllClassLayout – Dumping Object Memory Layout Diagnosing Hidden ODR Violations in Visual C++ (and fixing LNK2022) Add tools to display c++ class memory layout ",description:"",tags:null,title:"MSVC",uri:"/notes/cpp/msvc/index.html"},{content:"",description:"",tags:null,title:"Notes",uri:"/notes/index.html"},{content:" Aras Pranckevicius Unity, Blender Blog Twitter Inigo Quilez Shader guy, shader/math articles/videos Blog Twitter Youtube Alyssa Rosenzweig Blog The Apple GPU and the Impossible Bug MinCheon Bae Unreal Engine dev, PUBG Studio Blog a lot of articles about internal UE stuff Sandor Dargo C++ Blog ",description:"",tags:null,title:"People",uri:"/notes/people/index.html"},{content:" Circle C++ shaders A lot of links to DX/Vulkan samples Shader Effect Language Writing a Shader Effect Language Part 1 nvFX: A Scene and Material Effect Framework for OpenGL https://github.com/tlorach/nvFX Volumetric Light Light shafts Volumetric fog, area lights and tube lights (Unity Adam demo) Volumetric lights found it here ",description:"",tags:null,title:"Shaders",uri:"/notes/graphics/shaders/index.html"},{content:" godbolt cppinsights quick-bench ",description:"",tags:null,title:"Sites",uri:"/notes/cpp/sites/index.html"},{content:"",description:"",tags:null,title:"Tags",uri:"/tags/index.html"},{content:"MipMap Sharper Mipmapping using Shader Based Supersampling bug, good article Jonathan Blow old articles in The Inner Product journal Mipmapping, Part 1 Mipmapping, Part 2 Common Rendering Mistakes: How to Find Them and How to Fix Them Simultaneous Mipmap Level Generation John Carmack twitter question about Unity/Unreal mipmaps Custom MIP Levels High-performance adaptive texture streaming and rendering of large 3D cities Unity related unity forum, discussion How does the Anisotropic Textures Quality Setting affect each texture’s Aniso Level? Tools DirectXTex texture processing library NVIDIA Texture Tools ImageMagick Filtering Texture filtering (Arm) Enabled anisotropy with nearest filtering Sampler compareEnable needs to be specified at sampler creation, and validated against the shader Compression What are 8-bit, 10-bit, 12-bit, 4:4:4, 4:2:2 and 4:2:0 Using ASTC Texture Compression for Game Assets Arm Mali GPU Best Practices Developer Guide Version 2.0 TEXTURE COMPRESSION TECHNIQUES Understanding BCn Texture Compression Formats ",description:"",tags:null,title:"Texture",uri:"/notes/graphics/texture/index.html"},{content:" Unity PathTracer, Open Image Denoiser Issues HDRP Refraction flickers when using the Temporal Anti-aliasing (TAA) AssetDatabase AssetDatabase.Refresh() refresher - Unite Copenhagen Speed up your asset imports for big projects - Unite Copenhagen ",description:"",tags:null,title:"Unity",uri:"/notes/unity/index.html"},{content:"Talks Aggregating Ticks to Manage Scale in Sea of Thieves | Unreal Fest Europe 2019 Automated Testing at Scale in Sea of Thieves | Unreal Fest Europe 2019 Articles How Unreal Renders a Frame Tutorials BeginPlay learning path by Epic Games Unreal Engine 5 – Full Course for Beginners Tutorial series for beginners ??? The Unreal Engine Game Framework: From int main() to BeginPlay UMG-Slate Compendium Unreal Engine style guide K2 A not-so-brief intro to K2Nodes How to accept wildcard structs in your UFUNCTIONs Create Custom K2 Node For Blueprint ",description:"",tags:null,title:"Unreal Engine",uri:"/notes/unrealengine/index.html"},{content:` Vertex data management (Android)
The Benefits of Buffer Packing - Attribute Buffer Encoding (Arm)
Vertex packing
Custom Vertex fetch from SRV (using shaders without input assembler)
Should we get rid of Vertex Buffers? (Wicked Engine) Programmable vertex fetching and index buffering Dynamic vertex pulling with D3D11 `,description:"",tags:null,title:"Vertex Data",uri:"/notes/graphics/vertexdata/index.html"},{content:` GameEngines/Renderers
LegitEngine Some nice rendering techniques LegitProfiler Good looking CPU/GPU profiler with ImGui Lol Adventures in Hybrid Rendering https://github.com/diharaw/HybridRendering Liquid Engine https://www.reddit.com/r/GraphicsProgramming/comments/ru1fxc/render_graphs_with_msaa_support/ A beginner-friendly Vulkan path tracing tutorial in under 300 lines of C++
Measuring performance with Nvidia Nsight Vulkan input attachments and sub passes
Getting Faster and Leaner on Mobile: Optimizing Roblox with Vulkan
`,description:"",tags:null,title:"Vulkan",uri:"/notes/graphics/vulkan/index.html"},{content:`Window cusomization Custom Window Frame Using DWM Custom title bar WDDM Hardware Accelerated GPU Scheduling WinAPI Mouse capture, FPS camera
Mouse aim in an FPS, stackoverflow Raw input
RegisterRawInputDevices function Taking Advantage of High-Definition Mouse Movement GLFW Raw mouse motion `,description:"",tags:null,title:"Windows",uri:"/notes/windows/index.html"}]